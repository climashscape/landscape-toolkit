<div class="lang-en">

# Wooly Path Optimizer

**Category:** Landscape > Optimization
**Nickname:** WoolyPath

## 1. Introduction
Wooly Path Optimizer is a path optimization tool based on the **Physarum Polycephalum (Slime Mold)** bio-mimetic algorithm. It simulates the behavior of organisms foraging and establishing efficient transport networks in an environment, used to generate organic path systems that align with natural human flow patterns.

Unlike traditional "shortest path" algorithms, the paths generated by this component have organic forms, can adaptively avoid obstacles (future feature), and form a clear hierarchical structure.

## 2. Core Algorithm
This component runs an Agent-based simulation system:
1.  **Agents**: Thousands of virtual agents move randomly on the canvas.
2.  **Sensory**: Agents detect "Pheromone" concentration ahead via sensors.
3.  **Decision**: Agents tend to turn towards directions with higher pheromone concentration (positive feedback loop).
4.  **Deposition**: Agents leave pheromones on the paths they traverse.
5.  **Diffusion & Decay**: Pheromones diffuse to the surroundings and decay over time, simulating natural chemical signal propagation.

## 3. Input Parameters

| Name | Abbr. | Type | Default | Description |
| :--- | :--- | :--- | :--- | :--- |
| **Bounds** | B | Rectangle | - | Simulation boundary. Agents are confined within this area. |
| **Resolution** | Res | Integer | 100 | Grid resolution. Higher values yield finer paths but slower calculation. Recommended 100-300. |
| **AgentCount** | N | Integer | 1000 | Number of agents. More agents result in clearer paths and a denser network. |
| **SensorDistance** | SD | Number | 5.0 | Sensor detection distance. Determines how "far" agents can see. |
| **SensorAngle** | SA | Number | 45° (π/4) | Angle of sensors relative to the forward direction. |
| **TurnAngle** | TA | Number | 45° (π/4) | Maximum turn angle of agents. |
| **Reset** | R | Boolean | False | Resets simulation state (clears canvas and agent positions). |
| **Run** | Run | Boolean | False | Activates simulation. When set to True, simulation runs frame by frame. |

## 4. Output Parameters

| Name | Abbr. | Type | Description |
| :--- | :--- | :--- | :--- |
| **TrailMap** | M | Mesh | Visualization mesh of the pheromone map. Whiter colors indicate more frequently traversed paths. |
| **Agents** | A | Point (List) | Real-time positions of all agents (for particle effect display). |
| **Iteration** | I | Integer | Current simulation step count. |

## 5. Tips
*   **Resolution Settings**: Use low resolution (50-100) for initial testing, and increase to 200+ for final output.
*   **Parameter Tuning**: 
    *   Increasing `SensorDistance` produces longer, straighter paths.
    *   Decreasing `TurnAngle` results in smoother paths.
*   **Workflow**: Use in conjunction with the `Trace` component (under development) to convert the TrailMap into vector curves, which can then be input into `Quad Road Network` to generate solid road networks.


## 6. 相关文档 (Related Documentation)
*   [**Optimization Implementation**](../Core_Logic/Optimization_Implementation.md) - 底层算法的详细解释。


</div>

<div class="lang-zh">

# Wooly Path Optimizer (仿生路径优化器)

**Category:** Landscape > Optimization
**Nickname:** WoolyPath

## 1. 简介 (Introduction)
Wooly Path Optimizer 是一个基于 **Physarum Polycephalum (粘菌)** 仿生算法的路径优化工具。它模拟生物体在环境中寻找食物和建立高效运输网络的行为，用于生成符合自然人流习惯的有机路径系统。

与传统的“最短路径”算法不同，该组件生成的路径具有有机的形态，能够自适应地避开障碍（未来功能），并形成主次分明的层级结构。

## 2. 核心算法 (Core Algorithm)
该组件运行一个基于智能体 (Agent-based) 的模拟系统：
1.  **智能体 (Agents)**: 数千个虚拟智能体在画布上随机移动。
2.  **感知 (Sensory)**: 智能体通过传感器探测前方的“信息素 (Pheromone)”浓度。
3.  **决策 (Decision)**: 智能体倾向于转向信息素浓度更高的方向（正反馈循环）。
4.  **沉积 (Deposition)**: 智能体在经过的路径上留下信息素。
5.  **扩散与衰减 (Diffusion & Decay)**: 信息素会向周围扩散并随时间衰减，模拟自然界的化学信号传播。

## 3. 输入参数 (Input Parameters)

| 参数名 | 缩写 | 类型 | 默认值 | 说明 |
| :--- | :--- | :--- | :--- | :--- |
| **Bounds** | B | Rectangle | - | 模拟的边界范围。智能体被限制在此区域内活动。 |
| **Resolution** | Res | Integer | 100 | 网格分辨率。数值越高，路径越细腻，但计算越慢。建议 100-300。 |
| **AgentCount** | N | Integer | 1000 | 智能体数量。数量越多，路径越清晰，网络越密集。 |
| **SensorDistance** | SD | Number | 5.0 | 传感器的探测距离。决定了智能体“看”多远。 |
| **SensorAngle** | SA | Number | 45° (π/4) | 传感器相对于前进方向的角度。 |
| **TurnAngle** | TA | Number | 45° (π/4) | 智能体的最大转向角度。 |
| **Reset** | R | Boolean | False | 重置模拟状态（清空画布和智能体位置）。 |
| **Run** | Run | Boolean | False | 激活模拟。设置为 True 时，模拟将逐帧运行。 |

## 4. 输出参数 (Output Parameters)

| 参数名 | 缩写 | 类型 | 说明 |
| :--- | :--- | :--- | :--- |
| **TrailMap** | M | Mesh | 信息素地图的可视化网格。颜色越白表示路径越常被经过。 |
| **Agents** | A | Point (List) | 当前所有智能体的实时位置（用于显示粒子效果）。 |
| **Iteration** | I | Integer | 当前模拟的迭代步数。 |

## 5. 使用建议 (Tips)
*   **分辨率设置**: 初步测试时使用低分辨率 (50-100)，最终出图时提高到 200+。
*   **参数调试**: 
    *   增加 `SensorDistance` 会产生更长、更直的路径。
    *   减小 `TurnAngle` 会使路径更平滑。
*   **结合使用**: 配合 `Trace` 组件（开发中）可将 TrailMap 转化为矢量曲线，进而输入到 `Quad Road Network` 生成实体路网。


</div>
