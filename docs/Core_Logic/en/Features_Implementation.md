# Features Implementation

## 1. Boardwalk Generation
The Boardwalk system converts a path curve into a 3D structural model with decking, supports, and railings.

### 1.1 Deck Logic
*   **Framing**: Perpendicular frames (planes) are generated along the path at regular intervals.
*   **Profile Extrusion**: A rectangular profile (width Ã— thickness) is swept along the path.
*   **Subdivision**: The deck surface is split into individual planks to simulate real construction.

### 1.2 Support Structure
*   **Raycasting**: At each frame location, a ray is cast downwards (-Z vector) to intersect with the provided `Terrain` mesh.
*   **Column Generation**: If an intersection is found, a vertical cylinder (column) is generated from the deck underside to the terrain intersection point.
*   **Adaptive Height**: Columns automatically adjust length based on terrain undulation.

### 1.3 Railing System
*   **Offset**: Left and right railing curves are generated by offsetting the main path.
*   **Posts**: Vertical posts are placed at regular intervals along the railing curves.
*   **Handrails**: A continuous profile is swept along the top of the posts.

---

## 2. Scatter System
The Scatter system is designed for rule-based distribution of landscape elements, ensuring natural yet controlled placement.

### 2.1 Poisson Disk Sampling
To avoid unnatural overlapping of trees or furniture, we implement **Poisson Disk Sampling**:
1.  **Generate Candidates**: Randomly generate a large number of candidate points on the surface.
2.  **Distance Check**: For each new point, check if it is within distance `r` (MinDistance) of any existing point.
3.  **Accept/Reject**: Only accept points that satisfy the distance constraint.

### 2.2 Alignment Rules
*   **Road Edge Alignment**: For streetlights, points are not random. We sample points along `RoadEdges` curves at fixed intervals.
*   **Orientation**:
    *   **Streetlights**: Oriented perpendicular to the road edge.
    *   **Benches**: Oriented parallel to the path or facing a view point.
